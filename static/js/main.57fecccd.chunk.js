(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{38:function(e,t,a){e.exports=a.p+"static/media/loader.1c54dd26.gif"},45:function(e,t,a){e.exports=a(61)},59:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(21),o=a.n(s),i=a(16),c=a(39),u=a(18),l=a(3),d=a.n(l),p=a(2),m=a(6),f=a(7),g={saveToStorage:function(e,t){var a=JSON.stringify(t);localStorage.setItem(e,a)},loadFromStorage:function(e){var t=localStorage.getItem(e);return JSON.parse(t)}};var O=a(14),b=a.n(O),v={getFilteredTasks:function(e,t){return"archives"===t?e.filter((function(e){return"done"===e.status||"canceled"===e.status})):"open tasks"===t?e.filter((function(e){return"pending"===e.status||"in progress"===e.status})):"tasks of this week"===t?e.filter((function(e){return function(e){var t=b()(),a=b()(e);return t.isoWeek()===a.isoWeek()}(e.dueDate)})):e},getSortedTasks:function(e,t,a){var n=Object(m.a)(e);"due date"===t?n=n.sort((function(e,t){return e.dueDate-t.dueDate})):"status"===t?n=n.sort((function(e,t){return e.status.toLowerCase()>=t.status.toLowerCase()?1:-1})):"in charge of"===t?n=n.sort((function(e,t){return e.inChargeOf>=t.inChargeOf?1:-1})):"creation date"===t?n=n.sort((function(e,t){return e.createAt-t.createAt})):"priority"===t&&(n=n.sort((function(e,t){return e.priority-t.priority})));a||(n=n.sort((function(e,t){return-1})));return n},checkTimeIsValid:function(e){if(2!==e.split(" ").length)return!1;var t=e.split(" "),a=Object(p.a)(t,2),n=a[0],r=a[1];return("AM"===r.toUpperCase()||"PM"===r.toUpperCase())&&/^([0]?[0-9]|1[0-2]):[0-5][0-9]$/i.test(n)},generateId:function(){return"id"+Math.random().toString(16).slice(2)},parseDaytime:function(e){var t=+e.slice(0,2),a=+e.slice(3,5);e.toLowerCase().includes("pm")&&12!==t&&(t+=12);return 6e4*(60*t+a)},timestampToStr:function(e){var t=new Date(e),a=t.getMonth()>8?t.getMonth()+1:"0"+(t.getMonth()+1),n=t.getDate()>9?t.getDate():"0"+t.getDate(),r=(""+t.getFullYear()).substring(2);return"".concat(n,"/").concat(a,"/").concat(r," ").concat(E(e))},timestampToTimeInDay:E};function E(e){var t=new Date(e),a=t.getHours()%12>9?t.getHours()%12:"0"+t.getHours()%12,n=t.getMinutes()>9?t.getMinutes():"0"+t.getMinutes(),r=t.getHours()<=12;return"".concat(a,":").concat(n," ").concat(r?"AM":"PM")}var h={getTodoListById:function(e){var t;return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.awrap(T.find((function(t){return t.id===e})));case 2:return t=a.sent,a.abrupt("return",Object(f.a)({},t));case 4:case"end":return a.stop()}}))},addTask:function(e,t){var a;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return(a=Object(f.a)({},T.find((function(t){return t.id===e})))).tasks=[].concat(Object(m.a)(a.tasks),[t]),y(a),n.abrupt("return",a);case 4:case"end":return n.stop()}}))},deleteTask:function(e,t){var a;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return(a=Object(f.a)({},T.find((function(t){return t.id===e})))).tasks=Object(m.a)(a.tasks.filter((function(e){return e.id!==t}))),y(a),n.abrupt("return",a);case 4:case"end":return n.stop()}}))},editTask:function(e,t){var a;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return(a=Object(f.a)({},T.find((function(t){return t.id===e})))).tasks=a.tasks.map((function(e){return e.id===t.id?t:e})),y(a),n.abrupt("return",a);case 4:case"end":return n.stop()}}))},addTodoList:function(){var e,t;return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e={id:v.generateId(),tasks:[]},t=[].concat(Object(m.a)(T),[e]),T=t,g.saveToStorage("todolists",T),a.abrupt("return",e);case 5:case"end":return a.stop()}}))}},k=[{id:"td101",tasks:[{id:"t101",title:"task number: 1",descripiton:"i am a description of task number: 1",priority:1,status:"done",createAt:Date.now(),dueDate:Date.now()+18e6,inChargeOf:"u101"},{id:"t102",title:"task number: 2",descripiton:"i am a description of task number: 2",priority:2,status:"in progress",createAt:Date.now()-18e6,dueDate:Date.now()+18e6,inChargeOf:"u101"},{id:"t109",title:"task number: 9",descripiton:"i am a description of task number: 1",priority:1,status:"done",createAt:Date.now(),dueDate:Date.now()+324e5,inChargeOf:"u101"},{id:"t103",title:"task number: 3",descripiton:"i am a description of task number: 3",priority:2,status:"pending",createAt:Date.now()+18e6,dueDate:Date.now()+18e6,inChargeOf:"u101"},{id:"t104",title:"task number: 4",descripiton:"i am a description of task number: 4",priority:3,status:"canceled",createAt:Date.now(),dueDate:Date.now()+18e6,inChargeOf:"u101"}]},{id:"td102",tasks:[{id:"t105",title:"task number: 5",descripiton:"i am a description of task number: 5",priority:1,status:"done",createAt:Date.now(),dueDate:Date.now()+18e6,inChargeOf:"u101"},{id:"t106",title:"task number: 6",descripiton:"i am a description of task number: 6",priority:2,status:"in progress",createAt:Date.now(),dueDate:Date.now()+18e6,inChargeOf:"u101"},{id:"t107",title:"task number: 7",descripiton:"i am a description of task number: 7",priority:2,status:"pending",createAt:Date.now(),dueDate:Date.now()+18e6,inChargeOf:"u101"},{id:"t108",title:"task number: 8",descripiton:"i am a description of task number: 8",priority:1,status:"canceled",createAt:Date.now(),dueDate:Date.now()+18e6,inChargeOf:"u101"}]}],T=g.loadFromStorage("todolists")?g.loadFromStorage("todolists"):k;function y(e){T=T.map((function(t){return t.id===e.id?e:t})),g.saveToStorage("todolists",T)}var j={getUsers:function(){var e;return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=S.map((function(e){var t=Object(f.a)({},e);return delete t.password,t})),t.abrupt("return",e);case 2:case"end":return t.stop()}}))},login:function(e){var t,a;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=Object(f.a)({},S.find((function(t){return t.userName===e.userName})))){n.next=3;break}return n.abrupt("return",!1);case 3:if(t.password===e.password){n.next=5;break}return n.abrupt("return",!1);case 5:return delete(a=Object(f.a)({},t)).password,sessionStorage.setItem("loggedInUser",JSON.stringify(a)),n.abrupt("return",a);case 9:case"end":return n.stop()}}))},logout:function(){sessionStorage.removeItem("loggedInUser")},signup:function(e){var t,a;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.id=v.generateId(),n.next=3,d.a.awrap(h.addTodoList());case 3:return t=n.sent,e.todoList=t.id,a=[].concat(Object(m.a)(S),[Object(f.a)({},e)]),S=a,g.saveToStorage("users",S),delete e.password,n.abrupt("return",e);case 10:case"end":return n.stop()}}))}},S=g.loadFromStorage("users")?g.loadFromStorage("users"):[{id:"u101",userName:"moshe",password:"112233",todoList:"td101",profileUrl:"https://randomuser.me/api/portraits/men/72.jpg"},{id:"u102",userName:"or",password:"112233",todoList:"td102",profileUrl:"https://randomuser.me/api/portraits/men/46.jpg"}];function w(){return function(e){var t;return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.awrap(j.getUsers());case 2:t=a.sent,e({type:"SET_USERS",users:t});case 4:case"end":return a.stop()}}))}}var D={onLogin:function(e){return function(t){var a;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.awrap(j.login(e));case 2:if(a=n.sent){n.next=7;break}return n.abrupt("return",!1);case 7:return t({type:"SET_LOGIN_USER",user:a}),n.abrupt("return",a);case 9:case"end":return n.stop()}}))}}},I=Object(i.b)((function(e){return{loggedInUser:e.user.loggedInUser}}),D)((function(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),s=a[0],o=a[1],i=Object(n.useState)(""),c=Object(p.a)(i,2),u=c[0],l=c[1],m=Object(n.useState)("Login to your account"),f=Object(p.a)(m,2),g=f[0],O=f[1];return Object(n.useEffect)((function(){e.loggedInUser&&e.history.push("/todoList")}),[]),r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"login-container"},r.a.createElement("form",{className:"login-form flex column",onSubmit:function(t){var a;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),n.next=3,d.a.awrap(e.onLogin({userName:s,password:u}));case 3:a=n.sent,o(""),l(""),a?e.history.push("/todoList"):O("There was a problem with your login");case 7:case"end":return n.stop()}}))}},r.a.createElement("p",null,g),r.a.createElement("input",{type:"text",value:s,onChange:function(e){var t=e.target;o(t.value)},placeholder:"user name"}),r.a.createElement("input",{type:"password",value:u,onChange:function(e){var t=e.target;l(t.value)},placeholder:"password"}),r.a.createElement("button",null,"login")),r.a.createElement("div",{className:"sign-up-link-container flex justify-space-between"},r.a.createElement("p",null,"Don't have an account?"),r.a.createElement("button",{onClick:function(){e.history.push("/signup")}},"join now"))))})),x={uploadImg:function(e){var t,a,n,r;return d.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return"dif8yy3on",t="https://api.cloudinary.com/v1_1/".concat("dif8yy3on","/image/upload"),(a=new FormData).append("file",e.target.files[0]),a.append("upload_preset","misterToy"),s.prev=5,s.next=8,d.a.awrap(fetch(t,{method:"POST",body:a}));case 8:return n=s.sent,s.next=11,d.a.awrap(n.json());case 11:return r=s.sent,s.abrupt("return",r);case 15:s.prev=15,s.t0=s.catch(5),console.log(s.t0);case 18:case"end":return s.stop()}}),null,null,[[5,15]])}};var N=a(38),C=a.n(N);var U={onSignup:function(e){return function(t){var a;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.awrap(j.signup(e));case 2:return a=n.sent,t({type:"SET_LOGIN_USER",user:a}),n.abrupt("return",a);case 5:case"end":return n.stop()}}))}},onSetUsers:w},L=Object(i.b)((function(e){return{loggedInUser:e.user.loggedInUser,users:e.user.users}}),U)((function(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),s=a[0],o=a[1],i=Object(n.useState)(""),c=Object(p.a)(i,2),u=c[0],l=c[1],m=Object(n.useState)(""),f=Object(p.a)(m,2),g=f[0],O=f[1],b=Object(n.useState)(!1),v=Object(p.a)(b,2),E=v[0],h=v[1],k=Object(n.useState)("https://moonvillageassociation.org/wp-content/uploads/2018/06/default-profile-picture1.jpg"),T=Object(p.a)(k,2),y=T[0],j=T[1],S=Object(n.useState)("Create a new account"),w=Object(p.a)(S,2),D=w[0],I=w[1];return Object(n.useEffect)((function(){E&&j(C.a)}),[E]),Object(n.useEffect)((function(){e.onSetUsers(),e.loggedInUser&&e.history.push("/todoList")}),[]),r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"signup-container"},r.a.createElement("form",{className:"signup-form flex column",onSubmit:function(t){return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),u===g){a.next=7;break}I("Your password and confirmation password do not match"),l(""),O(""),a.next=15;break;case 7:if(!e.users.some((function(e){return e.userName===s}))){a.next=11;break}I("already have account with name ".concat(s," please try another one")),a.next=15;break;case 11:return a.next=13,d.a.awrap(e.onSignup({userName:s,password:u,profileUrl:y}));case 13:a.sent,e.history.push("/todoList");case 15:case"end":return a.stop()}}))}},r.a.createElement("p",null,D),r.a.createElement("input",{type:"text",value:s,onChange:function(e){var t=e.target;o(t.value)},placeholder:"user name"}),r.a.createElement("input",{type:"password",value:u,onChange:function(e){var t=e.target;l(t.value)},placeholder:"password"}),r.a.createElement("input",{type:"password",value:g,onChange:function(e){var t=e.target;O(t.value)},placeholder:"confirm password"}),r.a.createElement("label",{htmlFor:"img-upload"},r.a.createElement("div",{className:"profile-img"},r.a.createElement("p",null,"Click to select Profile Image"),r.a.createElement("img",{src:y,alt:""}))),r.a.createElement("input",{hidden:!0,type:"file",className:"file-input",name:"img-upload",id:"img-upload",onChange:function(e){var t;return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return h(!0),a.prev=1,a.next=4,d.a.awrap(x.uploadImg(e));case 4:t=a.sent,h(!1),j(t.url),a.next=11;break;case 9:a.prev=9,a.t0=a.catch(1);case 11:case"end":return a.stop()}}),null,null,[[1,9]])}}),r.a.createElement("button",null,"signup")),r.a.createElement("div",{className:"login-link-container flex justify-space-between"},r.a.createElement("p",null,"Don't have an account?"),r.a.createElement("button",{onClick:function(){e.history.push("/")}},"login"))))}));function A(e){var t=e.task,a=e.taskInChargeOf,n=e.onDeleteTask,s=e.toggleIsOpen,o=e.setEditTask,i=e.isOpen;return r.a.createElement("div",{className:"task-details ".concat(i?"open":"close")},r.a.createElement("div",{className:"descripiton-container"},r.a.createElement("p",null,t.descripiton)),r.a.createElement("div",{className:"other-details"},r.a.createElement("p",{className:"status"},"Status: ",t.status),r.a.createElement("p",{className:"priority"},"Priority: ",t.priority),r.a.createElement("p",{className:"due-date"},"Due Date:",v.timestampToStr(t.dueDate)),r.a.createElement("p",{className:"in-charge-of"},"In Charge Of: ",a.userName),r.a.createElement("p",{className:"in-charge-of"},"Create at: ",v.timestampToStr(t.createAt))),r.a.createElement("div",{className:"btns-container flex justify-space-between"},r.a.createElement("button",{onClick:function(){o(t)}},"edit"),r.a.createElement("button",{onClick:function(){s(t.id),n(t.id)}},"delete")))}function _(e){var t=e.task,a=e.isOpen,n=e.toggleIsOpen,s=e.users,o=e.onDeleteTask,i=e.setEditTask,c=s.find((function(e){return e.id===t.inChargeOf}));return r.a.createElement("div",{className:"task-container"},r.a.createElement("div",{className:"task-preview",onClick:function(){return n(t.id)}},r.a.createElement("p",null,t.title)),r.a.createElement(A,{task:t,taskInChargeOf:c,onDeleteTask:o,toggleIsOpen:n,setEditTask:i,isOpen:a}))}function M(e){var t=e.tasks,a=e.sortBy,s=e.users,o=e.onDeleteTask,i=e.setEditTask,c=Object(n.useState)([]),u=Object(p.a)(c,2),l=u[0],d=u[1],m=Object(n.useState)(!0),f=Object(p.a)(m,2),g=f[0],O=(f[1],Object(n.useState)("")),b=Object(p.a)(O,2),E=b[0],h=b[1];function k(e){h(E===e?"":e)}return Object(n.useEffect)((function(){t&&d(v.getSortedTasks(t,a,g))}),[a,t]),r.a.createElement("div",{className:"task-list"},l.length?l.map((function(e){return r.a.createElement(_,{key:e.id,task:e,isOpen:(t=e.id,E===t),toggleIsOpen:k,users:s,onDeleteTask:o,setEditTask:i});var t})):r.a.createElement("p",null,"Sorry, you do not have any task that follow this filter"))}var V=a(42),B=a(43),F=a(24),P=a.n(F),R=a(23),H=a.n(R);function J(e){var t=e.options,a=e.currOption,s=e.setOption,o=Object(n.useState)(!1),i=Object(p.a)(o,2),c=i[0],u=i[1];return r.a.createElement("div",{className:"select-container",onClick:function(){u((function(e){return!e}))}},r.a.createElement("div",{className:"select flex align-center justify-space-between"},r.a.createElement("p",null,a),r.a.createElement("span",{className:"toggle-options-btn"},c?r.a.createElement(H.a,null):r.a.createElement(P.a,null))),c&&r.a.createElement("div",{className:"options"},t.map((function(e,t){return r.a.createElement("div",{className:"option",key:t,onClick:function(){s(e)}},r.a.createElement("p",null,e))}))))}function W(e){var t=e.value,a=e.setValue,n=e.isTimeInTextValid,s=e.setIsTimeInTextValid;return r.a.createElement("input",{className:"time-picker ".concat(n?"valid":"unvalid"," ").concat(t?"":"empty"),type:"text",placeholder:"HH:MM AM/PM",value:t,onChange:function(e){var t=e.target.value;s(v.checkTimeIsValid(t)),a(t)}})}function q(e){var t=e.users,a=e.currUser,s=e.setCurrUser,o=Object(n.useState)(!1),i=Object(p.a)(o,2),c=i[0],u=i[1];return r.a.createElement("div",{className:"select-user-container",onClick:function(){u((function(e){return!e}))}},r.a.createElement("div",{className:"select-user flex align-center justify-space-between"},r.a.createElement("img",{src:a.profileUrl,alt:""}),r.a.createElement("p",null,a.userName),r.a.createElement("span",{className:"toggle-options-btn"},c?r.a.createElement(H.a,null):r.a.createElement(P.a,null))),c&&r.a.createElement("div",{className:"options"},t.map((function(e,t){return r.a.createElement("div",{className:"option flex align-center",key:t,onClick:function(){s(e)}},r.a.createElement("img",{src:e.profileUrl,alt:""}),r.a.createElement("p",null,e.userName))}))))}function G(e){var t=e.formTitle,a=e.toggleIsOpen,n=e.onSubmit,s=e.wrongMsg,o=e.title,i=e.setTitle,c=e.descripiton,u=e.setDescripiton,l=e.priority,d=e.setPriority,p=e.status,m=e.setStatus,f=e.users,g=e.currUser,O=e.setCurrUser,b=e.calenderDate,v=e.setCalenderDate,E=e.timeInText,h=e.setTimeInText,k=e.isTimeInTextValid,T=e.setIsTimeInTextValid;return r.a.createElement("div",{className:"form-container",onClick:a},r.a.createElement("form",{onSubmit:n,className:"flex column",onClick:function(e){e.stopPropagation()}},r.a.createElement("h2",null,t),r.a.createElement("p",null,s),r.a.createElement("input",{type:"text",placeholder:"Title",value:o,onChange:function(e){var t=e.target;i(t.value)}}),r.a.createElement(B.a,{type:"text",placeholder:"Descripiton",value:c,onChange:function(e){var t=e.target;u(t.value)},minRows:3}),r.a.createElement("div",{className:"form-select-container flex align-center"},r.a.createElement("p",null,"Priority:"),r.a.createElement(J,{options:[1,2,3],currOption:l,setOption:d})),r.a.createElement("div",{className:"form-select-container flex align-center"},r.a.createElement("p",null,"Stauts:"),r.a.createElement(J,{options:["pending","in progress","done","canceled"],currOption:p,setOption:m})),r.a.createElement("div",{className:"form-select-container flex align-center"},r.a.createElement("p",null,"In Charge Of:"),g&&r.a.createElement(q,{users:f,currUser:g,setCurrUser:O})),r.a.createElement(V.a,{className:"cal",onChange:v,value:b,calendarType:"Hebrew",locale:"ISR"}),r.a.createElement(W,{value:E,setValue:h,isTimeInTextValid:k,setIsTimeInTextValid:T}),r.a.createElement("button",null,"Save")))}function X(e){var t=e.users,a=e.onAddTask,s=e.isOpen,o=e.toggleIsOpen,i=Object(n.useState)(""),c=Object(p.a)(i,2),u=c[0],l=c[1],d=Object(n.useState)(""),m=Object(p.a)(d,2),f=m[0],g=m[1],O=Object(n.useState)(1),E=Object(p.a)(O,2),h=E[0],k=E[1],T=Object(n.useState)("pending"),y=Object(p.a)(T,2),j=y[0],S=y[1],w=Object(n.useState)(new Date(b()().startOf("day"))),D=Object(p.a)(w,2),I=D[0],x=D[1],N=Object(n.useState)(""),C=Object(p.a)(N,2),U=C[0],L=C[1],A=Object(n.useState)(null),_=Object(p.a)(A,2),M=_[0],V=_[1],B=Object(n.useState)("Title is requested"),F=Object(p.a)(B,2),P=F[0],R=F[1],H=Object(n.useState)(!1),J=Object(p.a)(H,2),W=J[0],q=J[1];return Object(n.useEffect)((function(){t&&V(t[0])}),[]),Object(n.useEffect)((function(){l(""),g(""),k(1),S("pending"),x(new Date(b()().startOf("day"))),L(""),V(t[0]),R("Title and time of day are requested")}),[s]),r.a.createElement("div",{className:"add-task"},s&&r.a.createElement(G,{formTitle:"Add Task",toggleIsOpen:o,onSubmit:function(e){if(e.preventDefault(),u)if(!U||W){var t=I.getTime();U&&(t+=v.parseDaytime(U));var n={title:u,descripiton:f,priority:h,status:j,createAt:Date.now(),dueDate:t,inChargeOf:M.id};a(n),o()}else R("Unvalid Time");else R("Must have a title")},wrongMsg:P,title:u,setTitle:l,descripiton:f,setDescripiton:g,priority:h,setPriority:k,status:j,setStatus:S,users:t,currUser:M,setCurrUser:V,calenderDate:I,setCalenderDate:x,timeInText:U,setTimeInText:L,isTimeInTextValid:W,setIsTimeInTextValid:q}))}function Y(e){var t=e.users,a=e.onEditTask,s=e.task,o=e.close,i=Object(n.useState)(""),c=Object(p.a)(i,2),u=c[0],l=c[1],d=Object(n.useState)(""),m=Object(p.a)(d,2),f=m[0],g=m[1],O=Object(n.useState)(1),E=Object(p.a)(O,2),h=E[0],k=E[1],T=Object(n.useState)("pending"),y=Object(p.a)(T,2),j=y[0],S=y[1],w=Object(n.useState)(new Date(b()().startOf("day"))),D=Object(p.a)(w,2),I=D[0],x=D[1],N=Object(n.useState)(""),C=Object(p.a)(N,2),U=C[0],L=C[1],A=Object(n.useState)(null),_=Object(p.a)(A,2),M=_[0],V=_[1],B=Object(n.useState)("Title is requested"),F=Object(p.a)(B,2),P=F[0],R=F[1],H=Object(n.useState)(!1),J=Object(p.a)(H,2),W=J[0],q=J[1];return Object(n.useEffect)((function(){t.length&&s&&V(t.find((function(e){return e.id===s.inChargeOf})))}),[]),Object(n.useEffect)((function(){s&&(l(s.title),g(s.descripiton),k(s.priority),S(s.status),x(new Date(b()(s.dueDate).startOf("day"))),L(v.timestampToTimeInDay(s.dueDate)),V(t.find((function(e){return e.id===s.inChargeOf}))),R("Title is requested"),q(!0))}),[s]),r.a.createElement("div",{className:"edit-task"},s&&r.a.createElement(G,{formTitle:"Edit Task",toggleIsOpen:o,onSubmit:function(e){if(e.preventDefault(),u)if(!U||W){var t=I.getTime();U&&(t+=v.parseDaytime(U));var n={id:s.id,title:u,descripiton:f,priority:h,status:j,createAt:s.createAt,dueDate:t,inChargeOf:M.id};a(n),o()}else R("Unvalid Time");else R("Must have a title")},wrongMsg:P,title:u,setTitle:l,descripiton:f,setDescripiton:g,priority:h,setPriority:k,status:j,setStatus:S,users:t,currUser:M,setCurrUser:V,calenderDate:I,setCalenderDate:x,timeInText:U,setTimeInText:L,isTimeInTextValid:W,setIsTimeInTextValid:q}))}function $(e){var t=e.filterBy,a=e.setFilterBy;return r.a.createElement("div",{className:"todo-list-filter flex align-center"},r.a.createElement("p",null,"Filter:"),r.a.createElement(J,{options:["all tasks","open tasks","tasks of this week","archives"],currOption:t,setOption:a}))}function z(e){var t=e.sortBy,a=e.setSortBy;return r.a.createElement("div",{className:"todo-list-sort flex align-center"},r.a.createElement("p",null,"Sort:"),r.a.createElement(J,{options:["creation date","due date","status","in charge of","priority"],currOption:t,setOption:a}))}var K={onSetTasks:function(e){return function(t){var a;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.awrap(h.getTodoListById(e));case 2:a=n.sent,t({type:"SET_TODOLIST",todoList:a});case 4:case"end":return n.stop()}}))}},onAddTask:function(e,t){return t.id=v.generateId(),function(a){var n;return d.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,d.a.awrap(h.addTask(e,t));case 2:n=r.sent,a({type:"SET_TODOLIST",todoList:n});case 4:case"end":return r.stop()}}))}},onDeleteTask:function(e,t){return function(a){var n;return d.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,d.a.awrap(h.deleteTask(e,t));case 2:n=r.sent,a({type:"SET_TODOLIST",todoList:n});case 4:case"end":return r.stop()}}))}},onEditTask:function(e,t){return function(a){var n;return d.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,d.a.awrap(h.editTask(e,t));case 2:n=r.sent,a({type:"SET_TODOLIST",todoList:n});case 4:case"end":return r.stop()}}))}},onSetUsers:w,onLogout:function(){return function(e){j.logout(),e({type:"SET_LOGIN_USER",user:null})}}},Q=Object(i.b)((function(e){return{todoList:e.todoList.todoList,users:e.user.users,loggedInUser:e.user.loggedInUser}}),K)((function(e){var t=Object(n.useState)([]),a=Object(p.a)(t,2),s=a[0],o=a[1],i=Object(n.useState)("all tasks"),c=Object(p.a)(i,2),u=c[0],l=c[1],d=Object(n.useState)("creation date"),m=Object(p.a)(d,2),f=m[0],g=m[1],O=Object(n.useState)(!1),b=Object(p.a)(O,2),E=b[0],h=b[1],k=Object(n.useState)(null),T=Object(p.a)(k,2),y=T[0],j=T[1];function S(){h((function(e){return!e}))}return Object(n.useEffect)((function(){e.loggedInUser?(e.onSetTasks(e.loggedInUser.todoList),e.onSetUsers()):e.history.push("/")}),[]),Object(n.useEffect)((function(){e.todoList&&o(v.getFilteredTasks(e.todoList.tasks,u))}),[u,e.todoList]),r.a.createElement("div",{className:"main-container todo-list"},r.a.createElement("h1",null,"TODO List"),e.loggedInUser&&r.a.createElement("p",{className:"welcome"},"Welcome ",e.loggedInUser.userName,", if you want to connect from another user - ",r.a.createElement("span",{onClick:function(){e.onLogout(),e.history.push("/")}},"logout")),r.a.createElement("div",{className:"action-containers flex align-center"},r.a.createElement($,{filterBy:u,setFilterBy:l}),r.a.createElement(z,{sortBy:f,setSortBy:g}),r.a.createElement("button",{onClick:S},"add")),r.a.createElement(X,{isOpen:E,toggleIsOpen:S,users:e.users,onAddTask:function(t){e.onAddTask(e.todoList.id,t)}}),r.a.createElement(Y,{task:y,close:function(){j(null)},users:e.users,onEditTask:function(t){e.onEditTask(e.todoList.id,t)}}),e.todoList&&r.a.createElement(M,{tasks:s,sortBy:f,users:e.users,onDeleteTask:function(t){e.onDeleteTask(e.todoList.id,t)},setEditTask:j}))}));var Z=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(c.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/todolist",component:Q,exact:!0}),r.a.createElement(u.a,{path:"/signup",component:L,exact:!0}),r.a.createElement(u.a,{path:"/",component:I,exact:!0}))))},ee=a(17),te=a(41),ae={users:[],loggedInUser:JSON.parse(sessionStorage.getItem("loggedInUser"))?JSON.parse(sessionStorage.getItem("loggedInUser")):null};var ne={todoList:null};var re=Object(ee.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOGIN_USER":return Object(f.a)({},e,{loggedInUser:t.user});case"SET_USERS":return Object(f.a)({},e,{users:t.users});default:return e}},todoList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TODOLIST":return Object(f.a)({},e,{todoList:t.todoList});default:return e}}}),se=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ee.d,oe=Object(ee.e)(re,se(Object(ee.a)(te.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(59);o.a.render(r.a.createElement(i.a,{store:oe},r.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[45,1,2]]]);
//# sourceMappingURL=main.57fecccd.chunk.js.map